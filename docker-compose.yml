version: '3.8'

services:
  # 1. The Graph Database (Logical Brain)
  neo4j:
    image: neo4j:5.15.0
    container_name: graph_bug_neo4j
    ports:
      - "7474:7474" # HTTP Console (Browser)
      - "7687:7687" # Bolt Protocol (Python connects here)
    environment:
      - NEO4J_AUTH=neo4j/graphbug123  # User: neo4j, Pass: graphbug123
      # Optimize for development (uses less RAM)
      - NEO4J_dbms_memory_pagecache_size=512M
      - NEO4J_dbms_memory_heap_initial__size=512M
    volumes:
      - ./data/neo4j:/data

  # 2. The Vector Database (Intuitive Brain)
  qdrant:
    image: qdrant/qdrant:latest
    container_name: graph_bug_qdrant
    ports:
      - "6333:6333" # API & Dashboard
    volumes:
      - ./data/qdrant:/qdrant/storage

  # (Optional) 3. Python Service Placeholder
  # This is where your ingestion script will eventually run
  # worker:
  #   build: .
  #   depends_on:
  #     - neo4j
  #     - qdrant